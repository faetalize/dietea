<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Prep Planner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <!-- Onboarding Modal -->
    <div id="onboarding-modal" class="modal">
        <div class="modal-content onboarding-content">
            <span class="material-symbols-rounded modal-icon">skillet</span>
            <h2>Welcome to Meal Prep</h2>
            <p>Tell us about yourself so we can calculate your calorie needs.</p>
            
            <div class="onboarding-form">
                <div class="onboarding-section">
                    <h3>Your Stats</h3>
                    <div class="onboarding-grid">
                        <label class="form-field">
                            <span>Age*</span>
                            <input type="number" id="onboarding-age" min="15" max="100" placeholder="e.g., 30">
                        </label>
                        <label class="form-field">
                            <span>Sex*</span>
                            <select id="onboarding-sex">
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </label>
                        <label class="form-field">
                            <span>Weight (kg)*</span>
                            <input type="number" id="onboarding-weight" min="30" max="300" step="0.1" placeholder="e.g., 75">
                        </label>
                        <label class="form-field">
                            <span>Height (cm)*</span>
                            <input type="number" id="onboarding-height" min="100" max="250" placeholder="e.g., 175">
                        </label>
                        <label class="form-field form-field-full">
                            <span>Activity Level*</span>
                            <select id="onboarding-activity">
                                <option value="1.2">Sedentary (little/no exercise)</option>
                                <option value="1.375">Lightly active (1-3 days/week)</option>
                                <option value="1.55" selected>Moderately active (3-5 days/week)</option>
                                <option value="1.725">Very active (6-7 days/week)</option>
                                <option value="1.9">Extra active (physical job + training)</option>
                            </select>
                        </label>
                    </div>
                </div>

                <div class="onboarding-section">
                    <h3>Your Goal</h3>
                    <div class="onboarding-grid">
                        <label class="form-field">
                            <span>Goal Weight (kg)*</span>
                            <input type="number" id="onboarding-goal-weight" min="30" max="300" step="0.1" placeholder="e.g., 70">
                        </label>
                        <label class="form-field">
                            <span>Timeframe (months)*</span>
                            <input type="number" id="onboarding-goal-months" min="1" max="24" placeholder="e.g., 3">
                        </label>
                    </div>
                </div>

                <div class="onboarding-section">
                    <h3>Preferences</h3>
                    <div class="day-selector">
                        <label for="start-day">Week Start Day</label>
                        <select id="start-day">
                            <option value="0">Sunday</option>
                            <option value="1" selected>Monday</option>
                            <option value="2">Tuesday</option>
                            <option value="3">Wednesday</option>
                            <option value="4">Thursday</option>
                            <option value="5">Friday</option>
                            <option value="6">Saturday</option>
                        </select>
                    </div>
                </div>
            </div>

            <button id="start-btn" class="btn btn-primary">
                Calculate & Get Started
                <span class="material-symbols-rounded">arrow_forward</span>
            </button>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app" class="hidden">
        <!-- Toast Container -->
        <div id="toast-container" class="toast-container"></div>

        <!-- Navigation Tabs -->
        <nav class="tab-nav">
            <div class="tab-buttons">
                <button class="tab-btn active" data-tab="shopping">
                    <span class="material-symbols-rounded">shopping_cart</span>
                    <span class="tab-label">Shopping</span>
                </button>
                <button class="tab-btn" data-tab="schedule">
                    <span class="material-symbols-rounded">calendar_month</span>
                    <span class="tab-label">Schedule</span>
                </button>
                <button class="tab-btn" data-tab="menu">
                    <span class="material-symbols-rounded">restaurant_menu</span>
                    <span class="tab-label">Menu</span>
                </button>
                <button class="tab-btn" data-tab="ingredients">
                    <span class="material-symbols-rounded">nutrition</span>
                    <span class="tab-label">Ingredients</span>
                </button>
            </div>
            <button id="settings-btn" class="settings-btn" aria-label="Settings">
                <span class="material-symbols-rounded">settings</span>
            </button>
        </nav>

        <!-- Tab Content -->
        <main class="tab-content">
            <!-- Shopping List Tab -->
            <section id="shopping-tab" class="tab-panel active">
                <div class="section-header">
                    <h1>Weekly Shopping List</h1>
                    <div class="reset-wrapper">
                        <button id="reset-shopping" class="btn btn-secondary">
                            <span class="material-symbols-rounded">restart_alt</span>
                            Reset All
                        </button>
                        <div class="reset-confirm">
                            <button id="reset-cancel" class="btn-icon btn-cancel" aria-label="Cancel">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                            <button id="reset-confirm" class="btn-icon btn-confirm" aria-label="Confirm reset">
                                <span class="material-symbols-rounded">check</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div id="shopping-list" class="shopping-list"></div>
            </section>

            <!-- Schedule Tab -->
            <section id="schedule-tab" class="tab-panel">
                <div class="section-header">
                    <h1>Weekly Meal Schedule</h1>
                    <div class="schedule-actions">
                        <div class="view-toggle">
                            <button class="view-btn active" data-view="list" aria-label="List view">
                                <span class="material-symbols-rounded">view_list</span>
                            </button>
                            <button class="view-btn" data-view="calendar" aria-label="Calendar view">
                                <span class="material-symbols-rounded">calendar_view_week</span>
                            </button>
                        </div>
                        <button id="edit-schedule-btn" class="btn btn-primary">
                            <span class="material-symbols-rounded">edit_calendar</span>
                            Edit Schedule
                        </button>
                    </div>
                </div>
                <!-- Weekly Calorie Overview -->
                <div id="schedule-overview" class="schedule-overview hidden">
                    <div class="overview-stats">
                        <div class="overview-stat">
                            <span class="overview-label">Weekly Target</span>
                            <span class="overview-value" id="overview-weekly-target">--</span>
                        </div>
                        <div class="overview-stat">
                            <span class="overview-label">Scheduled</span>
                            <span class="overview-value" id="overview-scheduled">--</span>
                        </div>
                        <div class="overview-stat overview-stat-highlight" id="overview-remaining-container">
                            <span class="overview-label">Remaining</span>
                            <span class="overview-value" id="overview-remaining">--</span>
                        </div>
                    </div>
                    <div id="overview-cheat-day" class="overview-cheat-day hidden">
                        <span class="material-symbols-rounded">celebration</span>
                        <span>Cheat day (<span id="overview-cheat-day-name">--</span>): <strong id="overview-cheat-budget">0</strong> kcal available</span>
                    </div>
                </div>
                <div id="schedule-list" class="schedule-grid"></div>
                <div id="schedule-calendar" class="schedule-calendar hidden"></div>
            </section>

            <!-- Menu Tab -->
            <section id="menu-tab" class="tab-panel">
                <div class="section-header">
                    <h1>Meal Menu</h1>
                    <div class="import-actions">
                        <input type="file" id="meals-file" accept="application/json" class="hidden">
                        <button id="import-meals" class="btn btn-secondary">
                            <span class="material-symbols-rounded">upload_file</span>
                            Import JSON
                        </button>
                        <button id="create-meal-btn" class="btn btn-primary">
                            <span class="material-symbols-rounded">add</span>
                            Create Meal
                        </button>
                    </div>
                </div>
                <div class="search-container">
                    <span class="material-symbols-rounded search-icon">search</span>
                    <input type="text" id="menu-search" placeholder="Search meals..." class="search-input">
                </div>
                <div id="menu-cards" class="menu-cards"></div>
            </section>

            <!-- Ingredients Tab -->
            <section id="ingredients-tab" class="tab-panel">
                <div class="section-header">
                    <h1>Ingredients</h1>
                    <div class="import-actions">
                        <input type="file" id="ingredients-file" accept="application/json" class="hidden">
                        <button id="import-ingredients" class="btn btn-secondary">
                            <span class="material-symbols-rounded">upload_file</span>
                            Import JSON
                        </button>
                        <button id="add-ingredient-toggle" class="btn btn-primary">
                            <span class="material-symbols-rounded">add</span>
                            Add Ingredient
                        </button>
                    </div>
                </div>
                <div class="search-container">
                    <span class="material-symbols-rounded search-icon">search</span>
                    <input type="text" id="ingredients-search" placeholder="Search ingredients..." class="search-input">
                </div>
                <div id="add-ingredient-form" class="ingredient-form hidden">
                    <div class="form-grid">
                        <label class="form-field">
                            <span>Name*</span>
                            <input type="text" id="ingredient-name" placeholder="e.g., Fresh basil">
                        </label>
                        <label class="form-field">
                            <span>Category</span>
                            <input type="text" id="ingredient-category" placeholder="e.g., Herbs" list="category-options">
                        </label>
                        <label class="form-field">
                            <span>Unit*</span>
                            <input type="text" id="ingredient-unit" placeholder="g, ml, piece">
                        </label>
                        <label class="form-field">
                            <span>kcal per unit</span>
                            <input type="number" step="0.01" id="ingredient-kcal" placeholder="e.g., 0.5">
                        </label>
                        <label class="form-field">
                            <span>Protein per unit (g)</span>
                            <input type="number" step="0.01" id="ingredient-protein" placeholder="e.g., 0.03">
                        </label>
                        <label class="form-field">
                            <span>Carbs per unit (g)</span>
                            <input type="number" step="0.01" id="ingredient-carbs" placeholder="e.g., 0.1">
                        </label>
                        <label class="form-field">
                            <span>Lipids per unit (g)</span>
                            <input type="number" step="0.01" id="ingredient-lipids" placeholder="e.g., 0.02">
                        </label>
                    </div>
                    <div class="form-actions">
                        <button id="save-ingredient" class="btn btn-primary">
                            <span class="material-symbols-rounded">save</span>
                            Save Ingredient
                        </button>
                        <button id="cancel-ingredient" class="btn btn-secondary" type="button">
                            <span class="material-symbols-rounded">close</span>
                            Cancel
                        </button>
                    </div>
                </div>
                <div id="ingredients-list" class="ingredients-list"></div>
            </section>

            <!-- Meal Detail Page -->
            <section id="meal-detail" class="tab-panel">
                <button id="back-to-menu" class="btn btn-back">
                    <span class="material-symbols-rounded">arrow_back</span>
                    Back to Menu
                </button>
                <div id="meal-detail-content"></div>
            </section>

            <!-- Settings Page -->
            <section id="settings-tab" class="tab-panel">
                <button id="back-from-settings" class="btn btn-back">
                    <span class="material-symbols-rounded">arrow_back</span>
                    Back
                </button>
                <h1>Settings</h1>
                
                <!-- Profile Card -->
                <div class="settings-section">
                    <h2>Your Profile</h2>
                    <div class="profile-card" id="profile-card">
                        <div class="profile-header">
                            <span class="material-symbols-rounded profile-icon">person</span>
                            <div class="profile-summary">
                                <span class="profile-name" id="profile-stats-summary">--</span>
                                <span class="profile-activity" id="profile-activity-label">--</span>
                            </div>
                        </div>
                        <div class="profile-calories">
                            <div class="calorie-stat">
                                <span class="calorie-label">Maintenance</span>
                                <span class="calorie-value" id="profile-maintenance">-- kcal</span>
                            </div>
                            <div class="calorie-stat calorie-stat-primary">
                                <span class="calorie-label">Daily Target</span>
                                <span class="calorie-value" id="profile-target">-- kcal</span>
                            </div>
                            <div class="calorie-stat">
                                <span class="calorie-label">Deficit/Surplus</span>
                                <span class="calorie-value" id="profile-difference">--</span>
                            </div>
                        </div>
                        <div class="profile-goal">
                            <span class="material-symbols-rounded">flag</span>
                            <span id="profile-goal-text">No goal set</span>
                        </div>
                        <button id="edit-profile-btn" class="btn btn-secondary btn-block">
                            <span class="material-symbols-rounded">edit</span>
                            Edit Profile
                        </button>
                    </div>
                </div>

                <div class="settings-section">
                    <h2>Preferences</h2>
                    <div class="settings-content">
                        <div class="setting-item">
                            <div class="setting-info">
                                <span class="setting-label">Week Start Day</span>
                                <span class="setting-description">Choose which day your meal prep week begins</span>
                            </div>
                            <select id="settings-start-day" class="setting-select">
                                <option value="0">Sunday</option>
                                <option value="1">Monday</option>
                                <option value="2">Tuesday</option>
                                <option value="3">Wednesday</option>
                                <option value="4">Thursday</option>
                                <option value="5">Friday</option>
                                <option value="6">Saturday</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h2>File System</h2>
                    <div class="settings-content">
                        <div class="setting-item">
                            <div class="setting-info">
                                <span class="setting-label">Ingredients Database</span>
                                <span class="setting-description" id="file-status">Connect to ingredients.json file for automatic sync</span>
                            </div>
                            <button id="connect-ingredients-file" class="btn btn-primary">
                                <span class="material-symbols-rounded">attach_file</span>
                                Select File
                            </button>
                        </div>
                        <div class="setting-item" id="disconnect-file-item" style="display: none;">
                            <div class="setting-info">
                                <span class="setting-label">Disconnect File</span>
                                <span class="setting-description">Stop syncing with ingredients.json</span>
                            </div>
                            <button id="disconnect-ingredients-file" class="btn btn-secondary">
                                <span class="material-symbols-rounded">link_off</span>
                                Disconnect
                            </button>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h2>Data Management</h2>
                    <div class="settings-content">
                        <div class="setting-item">
                            <div class="setting-info">
                                <span class="setting-label">Clear Shopping Checklist</span>
                                <span class="setting-description">Reset all checked items in the shopping list</span>
                            </div>
                            <div class="setting-action-wrapper">
                                <button id="clear-shopping-data" class="btn btn-secondary">
                                    <span class="material-symbols-rounded">remove_shopping_cart</span>
                                    Clear
                                </button>
                                <div class="setting-confirm">
                                    <button class="btn-icon btn-cancel" data-action="cancel" aria-label="Cancel">
                                        <span class="material-symbols-rounded">close</span>
                                    </button>
                                    <button class="btn-icon btn-confirm" data-action="confirm" aria-label="Confirm">
                                        <span class="material-symbols-rounded">check</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <span class="setting-label">Delete All Ingredients</span>
                                <span class="setting-description">Remove all ingredients from the database</span>
                            </div>
                            <div class="setting-action-wrapper">
                                <button id="delete-ingredients-data" class="btn btn-secondary btn-danger-hover">
                                    <span class="material-symbols-rounded">delete_sweep</span>
                                    Delete
                                </button>
                                <div class="setting-confirm">
                                    <button class="btn-icon btn-cancel" data-action="cancel" aria-label="Cancel">
                                        <span class="material-symbols-rounded">close</span>
                                    </button>
                                    <button class="btn-icon btn-confirm" data-action="confirm" aria-label="Confirm">
                                        <span class="material-symbols-rounded">check</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="setting-item setting-item-danger">
                            <div class="setting-info">
                                <span class="setting-label">Delete All Data</span>
                                <span class="setting-description">Remove all app data and reset to initial state</span>
                            </div>
                            <div class="setting-action-wrapper">
                                <button id="delete-all-data" class="btn btn-danger">
                                    <span class="material-symbols-rounded">warning</span>
                                    Delete Everything
                                </button>
                                <div class="setting-confirm">
                                    <button class="btn-icon btn-cancel" data-action="cancel" aria-label="Cancel">
                                        <span class="material-symbols-rounded">close</span>
                                    </button>
                                    <button class="btn-icon btn-confirm" data-action="confirm" aria-label="Confirm">
                                        <span class="material-symbols-rounded">check</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Category datalist for autocomplete -->
    <datalist id="category-options"></datalist>

    <!-- Create Meal Modal -->
    <div id="create-meal-modal" class="modal hidden">
        <div class="modal-content create-meal-modal-content">
            <h2>Create New Meal</h2>
            <div class="meal-form">
                <div class="form-row">
                    <label class="form-field form-field-grow">
                        <span>Meal Name*</span>
                        <input type="text" id="meal-name" placeholder="e.g., Grilled Chicken Salad">
                    </label>
                    <label class="form-field">
                        <span>Type*</span>
                        <select id="meal-type">
                            <option value="Breakfast">Breakfast</option>
                            <option value="Lunch">Lunch</option>
                            <option value="Snack">Snack</option>
                            <option value="Dinner">Dinner</option>
                        </select>
                    </label>
                </div>

                <div class="meal-ingredients-section">
                    <div class="section-label">
                        <span>Ingredients*</span>
                        <button type="button" id="add-meal-ingredient" class="btn-icon-small">
                            <span class="material-symbols-rounded">add</span>
                        </button>
                    </div>
                    <div id="meal-ingredients-list" class="meal-ingredients-list">
                        <p class="empty-state-small">No ingredients added yet</p>
                    </div>
                </div>

                <div class="meal-instructions-section">
                    <div class="section-label">
                        <span>Instructions (optional)</span>
                        <button type="button" id="add-instruction-block" class="btn-icon-small">
                            <span class="material-symbols-rounded">add</span>
                        </button>
                    </div>
                    <div id="meal-instructions-list" class="meal-instructions-list">
                        <p class="empty-state-small">No instruction blocks added yet</p>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button id="save-meal" class="btn btn-primary">
                    <span class="material-symbols-rounded">save</span>
                    Save Meal
                </button>
                <button id="cancel-meal" class="btn btn-secondary" type="button">
                    <span class="material-symbols-rounded">close</span>
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Add Instruction Block Modal -->
    <div id="add-instruction-modal" class="modal hidden">
        <div class="modal-content add-instruction-modal-content">
            <h2>Add Instruction Block</h2>
            <div class="instruction-form">
                <label class="form-field">
                    <span>Block Name*</span>
                    <input type="text" id="instruction-block-name" placeholder="e.g., Marinade, Sauce, Assembly">
                </label>
                <label class="form-field">
                    <span>Steps (one per line)*</span>
                    <textarea id="instruction-block-steps" rows="5" placeholder="Step 1...&#10;Step 2...&#10;Step 3..."></textarea>
                </label>
            </div>
            <div class="form-actions">
                <button id="confirm-add-instruction" class="btn btn-primary">
                    <span class="material-symbols-rounded">add</span>
                    Add Block
                </button>
                <button id="cancel-add-instruction" class="btn btn-secondary" type="button">
                    <span class="material-symbols-rounded">close</span>
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Add Ingredient to Meal Modal -->
    <div id="add-ingredient-modal" class="modal hidden">
        <div class="modal-content add-ingredient-modal-content">
            <h2>Add Ingredient</h2>
            <div class="form-grid">
                <label class="form-field">
                    <span>Ingredient*</span>
                    <select id="select-ingredient">
                        <option value="">Select an ingredient...</option>
                    </select>
                </label>
                <label class="form-field">
                    <span>Quantity*</span>
                    <input type="number" id="ingredient-quantity" step="0.1" min="0" placeholder="e.g., 100">
                </label>
            </div>
            <div class="form-actions">
                <button id="confirm-add-ingredient" class="btn btn-primary">
                    <span class="material-symbols-rounded">add</span>
                    Add
                </button>
                <button id="cancel-add-ingredient" class="btn btn-secondary" type="button">
                    <span class="material-symbols-rounded">close</span>
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Ingredient Modal -->
    <div id="edit-ingredient-modal" class="modal hidden">
        <div class="modal-content edit-ingredient-modal-content">
            <h2>Edit Ingredient</h2>
            <div class="form-grid">
                <label class="form-field">
                    <span>Name*</span>
                    <input type="text" id="edit-ingredient-name" placeholder="e.g., Fresh basil">
                </label>
                <label class="form-field">
                    <span>Category</span>
                    <input type="text" id="edit-ingredient-category" placeholder="e.g., Herbs" list="category-options">
                </label>
                <label class="form-field">
                    <span>Unit*</span>
                    <input type="text" id="edit-ingredient-unit" placeholder="g, ml, piece">
                </label>
                <label class="form-field">
                    <span>kcal per unit</span>
                    <input type="number" step="0.01" id="edit-ingredient-kcal" placeholder="e.g., 0.5">
                </label>
                <label class="form-field">
                    <span>Protein per unit (g)</span>
                    <input type="number" step="0.01" id="edit-ingredient-protein" placeholder="e.g., 0.03">
                </label>
                <label class="form-field">
                    <span>Carbs per unit (g)</span>
                    <input type="number" step="0.01" id="edit-ingredient-carbs" placeholder="e.g., 0.1">
                </label>
                <label class="form-field">
                    <span>Lipids per unit (g)</span>
                    <input type="number" step="0.01" id="edit-ingredient-lipids" placeholder="e.g., 0.02">
                </label>
            </div>
            <div class="form-actions">
                <button id="save-edit-ingredient" class="btn btn-primary">
                    <span class="material-symbols-rounded">save</span>
                    Save Changes
                </button>
                <button id="cancel-edit-ingredient" class="btn btn-secondary" type="button">
                    <span class="material-symbols-rounded">close</span>
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="edit-profile-modal" class="modal hidden">
        <div class="modal-content edit-profile-modal-content">
            <h2>Edit Profile</h2>
            <div class="onboarding-form">
                <div class="onboarding-section">
                    <h3>Your Stats</h3>
                    <div class="onboarding-grid">
                        <label class="form-field">
                            <span>Age*</span>
                            <input type="number" id="edit-profile-age" min="15" max="100" placeholder="e.g., 30">
                        </label>
                        <label class="form-field">
                            <span>Sex*</span>
                            <select id="edit-profile-sex">
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </label>
                        <label class="form-field">
                            <span>Weight (kg)*</span>
                            <input type="number" id="edit-profile-weight" min="30" max="300" step="0.1" placeholder="e.g., 75">
                        </label>
                        <label class="form-field">
                            <span>Height (cm)*</span>
                            <input type="number" id="edit-profile-height" min="100" max="250" placeholder="e.g., 175">
                        </label>
                        <label class="form-field form-field-full">
                            <span>Activity Level*</span>
                            <select id="edit-profile-activity">
                                <option value="1.2">Sedentary (little/no exercise)</option>
                                <option value="1.375">Lightly active (1-3 days/week)</option>
                                <option value="1.55" selected>Moderately active (3-5 days/week)</option>
                                <option value="1.725">Very active (6-7 days/week)</option>
                                <option value="1.9">Extra active (physical job + training)</option>
                            </select>
                        </label>
                    </div>
                </div>

                <div class="onboarding-section">
                    <h3>Your Goal</h3>
                    <div class="onboarding-grid">
                        <label class="form-field">
                            <span>Goal Weight (kg)*</span>
                            <input type="number" id="edit-profile-goal-weight" min="30" max="300" step="0.1" placeholder="e.g., 70">
                        </label>
                        <label class="form-field">
                            <span>Timeframe (months)*</span>
                            <input type="number" id="edit-profile-goal-months" min="1" max="24" placeholder="e.g., 3">
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button id="save-edit-profile" class="btn btn-primary">
                    <span class="material-symbols-rounded">save</span>
                    Save Changes
                </button>
                <button id="cancel-edit-profile" class="btn btn-secondary" type="button">
                    <span class="material-symbols-rounded">close</span>
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Schedule Modal -->
    <div id="edit-schedule-modal" class="modal hidden">
        <div class="modal-content edit-schedule-modal-content">
            <h2>Edit Weekly Schedule</h2>
            <div class="schedule-editor">
                <div class="schedule-editor-actions">
                    <button id="auto-generate-schedule" class="btn btn-secondary">
                        <span class="material-symbols-rounded">auto_awesome</span>
                        Auto-Generate
                    </button>
                    <button id="clear-schedule" class="btn btn-secondary">
                        <span class="material-symbols-rounded">delete_sweep</span>
                        Clear All
                    </button>
                </div>
                <div id="schedule-editor-grid" class="schedule-editor-grid">
                    <!-- Days will be rendered here -->
                </div>
                <div id="schedule-calorie-summary" class="schedule-calorie-summary">
                    <div class="calorie-summary-row">
                        <div class="calorie-summary-item">
                            <span class="calorie-summary-label">Weekly Target</span>
                            <span class="calorie-summary-value" id="schedule-weekly-target">-- kcal</span>
                        </div>
                        <div class="calorie-summary-item">
                            <span class="calorie-summary-label">Scheduled Total</span>
                            <span class="calorie-summary-value" id="schedule-total-calories">-- kcal</span>
                        </div>
                        <div class="calorie-summary-item">
                            <span class="calorie-summary-label">Remaining</span>
                            <span class="calorie-summary-value" id="schedule-remaining-calories">-- kcal</span>
                        </div>
                    </div>
                    <div id="schedule-calorie-warning" class="calorie-warning hidden">
                        <span class="material-symbols-rounded">warning</span>
                        <span class="warning-text">Exceeds weekly target!</span>
                    </div>
                    <div id="schedule-cheat-day-info" class="cheat-day-info hidden">
                        <span class="material-symbols-rounded">celebration</span>
                        <span class="cheat-day-text">Cheat day budget: <strong id="cheat-day-budget">0</strong> kcal</span>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button id="save-schedule" class="btn btn-primary">
                    <span class="material-symbols-rounded">save</span>
                    Save Schedule
                </button>
                <button id="cancel-schedule" class="btn btn-secondary" type="button">
                    <span class="material-symbols-rounded">close</span>
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <script type="module" src="main.js"></script>
</body>
</html>
